(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{42:function(e,t,s){"use strict";s.r(t);var n=s(8),a=s.n(n),i=s(3),o=s.n(i),u=s(4),r=s.n(u),l=s(5),g=s.n(l),c=s(6),d=s.n(c),h=s(7),p=s.n(h),v=s(0),f=s(9),m=s(10),S=s(1),y=v.createElement,k=function(e){function t(e){var s;o()(this,t);var n=(s=g()(this,d()(t).call(this,e))).props,a=n.value,i=n.autoComplete;return s.state={suggestions:[],currentSuggestion:0,value:a||{},isLoading:!1,autoComplete:i},s}return p()(t,e),r()(t,[{key:"onChange",value:function(e){var t=this,s=this.state.isLoading,n=this.props,a=(n.name,n.onUpdate,n.timeOut),i=e.target.value;if(3<=i.length&&!1===s)if(this.setState({isLoading:!0,value:{displayValue:i}}),null!==sessionStorage.getItem(i))this.setState({isLoading:!1,suggestions:JSON.parse(sessionStorage.getItem(i)),currentSuggestion:0});else{var o=this.props,u=o.autoSuggestFetch,r=o.cacheResults;u(i).then(function(e){var s=e.data;e.succeed?(r&&sessionStorage.setItem(i,JSON.stringify(s)),t.setState({suggestions:s,currentSuggestion:0})):t.setState({suggestions:[],currentSuggestion:0}),setTimeout(function(){try{t.setState({isLoading:!1})}catch(e){console.log("setTimeout error",e)}},a)})}else""===i?this.setState({value:{}}):this.setState({value:{displayValue:i}})}},{key:"onKeyDown",value:function(e){var t=this.props,s=t.getValue,n=t.onUpdate,a=t.name,i=this.state,o=i.suggestions,u=i.currentSuggestion,r={};switch(e.keyCode){case 13:0<o.length&&(o[u],r=s(o[u]),this.setState({value:r,suggestions:[],currentSuggestion:-1}),n({target:{name:a,value:r}}));break;case 38:if(0===u)break;r=s(o[u-1]),this.setState({currentSuggestion:u-1,value:r});break;case 40:if(u===o.length-1)break;r=s(o[u+1]),this.setState({currentSuggestion:u+1,value:r})}}},{key:"onFocus",value:function(){var e=this.props.autoComplete;this.setState({autoComplete:e})}},{key:"handleClick",value:function(e){var t=this.props,s=t.onUpdate,n=t.name,a=(0,t.getValue)(e);this.setState({value:a,suggestions:[],currentSuggestion:-1}),s({target:{name:n,value:a}})}},{key:"render",value:function(){var e=this,t=this.props,s=t.name,n=t.label,a=t.isValid,i=t.isRequired,o=t.errorMessage,u=t.placeholder,r=t.innerRef,l=t.disabled,g=t.className,c=t.style,d=this.state,h=d.suggestions,p=d.currentSuggestion,v=d.value,k=d.isLoading,b=d.autoComplete,C=v.displayValue;return y("div",{className:Object(S.j)(["container-field autosuggest",g]),style:c},y(f.a,{label:n,name:s,isRequired:i,isValid:a}),y("input",{onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(t){return e.onFocus(t)},value:C||"",placeholder:Object(S.a)(u,s),name:s,id:s,disabled:l,autoComplete:b,ref:r,style:!1===a?{border:"1px solid #e4002b"}:{}}),y("div",{className:"autosuggest-suggestions box-shadow"},h.map(function(t,s){return y("div",{key:"sugg_".concat(s),onClick:function(){return e.handleClick(t)},onTouchEnd:function(){return e.handleClick(t)},className:p===s?"autosuggest-suggestion-selected":"autosuggest-suggestion"},t.displayValue)})),k?y("svg",{width:48,height:48,viewBox:"0 0 48 48",className:"spin"},y("circle",{cx:24,cy:24,fill:"none",stroke:"#fff",strokeWidth:2,r:22,strokeDasharray:"80,20"})):null,y(m.a,{isValid:a,errorMessage:o}))}}]),t}(v.Component);t.default=Object(v.forwardRef)(function(e,t){return y(k,a()({},e,{innerRef:t}))})}}]);