<!DOCTYPE html>
<html lang="en">
  <head>
		<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
    <meta name="Description" content="The form component">
    <meta name="theme-color" content="#000"/>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <title>Form component</title>
		<link rel="icon" href="favicon.ico" />
		<style>
			body, html {
				padding: 36px 0 0 0;
				margin: 0;
        font-family: Helvetica;
			}
      header {
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: #24292e;
        z-index: 2147483638;
        color: #fff;
        text-transform: capitalize;
        text-align: center;
        height: 56px;
        line-height: 56px;
      }

			* {
			    box-sizing: border-box;
			    margin: 0;
			    padding: 0;
			}
			.tabTextArea {
				width: -webkit-calc(100% - 20px);
				width: -moz-calc(100% - 20px);
				width: calc(100% - 20px);
			}
			@media screen and (min-width: 560px) {
				.tabTextArea {
					width: -webkit-calc(100% - 20px)!important;
					width: -moz-calc(100% - 20px)!important;
					width: calc(100% - 20px)!important;
				}
			}

			.custom-radio-container, .custom-energy {
				text-align: center;
				-webkit-touch-callout: none; /* iOS Safari */
				-webkit-user-select: none; /* Safari */
				-khtml-user-select: none; /* Konqueror HTML */
				-moz-user-select: none; /* Firefox */
				-ms-user-select: none; /* Internet Explorer/Edge */
				user-select: none; /* Non-prefixed version, currently supported by Chrome and Opera */
				clear: both;
			}
			.custom-radio-container .field-label, .custom-energy .field-label {
				float: left;
				width: 140px;
				min-width: 200px;
				max-width: 140px;
				margin-right: 10px;
				white-space: nowrap;
				text-overflow: ellipsis;
			}
			@media screen and (min-width: 560px) {
				.custom-radio-container .field-label, .custom-energy .field-label {
					width: auto;
					min-width: 120px;
					max-width: unset;
					margin-right: unset;
					white-space: unset;
					text-overflow: unset;
				}
			}
			.custom-radio-container .float-label, .custom-energy .float-label {
				float: left;
				text-align: left;
				font-size: 13px;
				width:100%;
				display: block;
			}
			.custom-radio-container .float-container, .custom-energy .float-container {
				float: left;
				width: auto;
			}
			.custom-radio-container .first {
				border-radius: 2px 0px 0px 2px;
		    border: 1px solid #96a1b0;
		    width: 33%;
			}
			.custom-radio-container .central {
				border-radius: 0;
		    border-left: none !important;
		    border-right: 1px solid #96a1b0;
		    border-top: 1px solid #96a1b0;
		    border-bottom: 1px solid #96a1b0;
		    width: 33%;
			}
			.custom-radio-container .last {
				border: 1px solid #96a1b0;
		    border-left: none !important;
		    border-radius: 0px 2px 2px 0px;
		    width: 33%;
			}
			.custom-radio-container .float-container label div {
				height: 28px!important;
				line-height: 28px!important;
				text-align: center;
				width: 100%!important;
				padding-left: 0px!important;
				font-size: 12px;
			}
			.custom-radio-container .floating:hover {
				background: #d8d8df!important;
				border-color: #d8d8df;
				color:#333f48;
			}
			.custom-radio-container .selected-radio {
					background-color: #333f48!important;
					border-color: #333f48!important;
					color:#fff;
			}
			.custom-radio-container .selected-radio:hover {
				background-color: #333f48!important;
				border-color: #333f48!important;
				color:#fff;
			}
			.custom-energy .float-container label div {
				height: 28px!important;
				line-height: 28px!important;
				text-align: center;
				width: 100%!important;
				padding-left: 0px!important;
				font-size: 12px;
			}
			.client-form .floating {
				float: left;
				cursor: pointer;
				height: 30px;
				-moz-transition:		background-color 0.3s ease-in-out;
				-o-transition:			background-color 0.3s ease-in-out;
				-webkit-transition: background-color 0.3s ease-in-out;
				transition:				 background-color 0.3s ease-in-out;
				background: #f0f2f5;
			}
			.custom-energy .floating {
				background: #fff;
			}
			.client-form .floating label {
					cursor: pointer;
					text-align: center;
					padding: 0px 15px!important;
					height: 28px!important;
					line-height: 28px;
			}

			/* energy start */
			.custom-energy .a4, .custom-energy .aplus {
				border-radius: 2px 0px 0px 2px;
				border-top: 1px solid #d8d8df;
				border-left: 1px solid #d8d8df;
				border-right: 1px solid #d8d8df;
				width: auto;
				background: #fff;
			}
			.custom-energy .a3,
			.custom-energy .a2,
			.custom-energy .a1,
			.custom-energy .a,
			.custom-energy .b,
			.custom-energy .c,
			.custom-energy .d,
			.custom-energy .e,
			.custom-energy .f {
				border-radius: 0;
				border-left: none;
				border-right: 1px solid #d8d8df;
				border-top: 1px solid #d8d8df;
				width: auto;
				background: #fff;
			}
			.custom-energy .g {
				border-top: 1px solid #d8d8df;
				border-right: 1px solid #d8d8df;
				border-left: none !important;
				border-radius: 0px 2px 2px 0px;
				width: auto;
				background: #fff;
			}
			.custom-energy .a4, .custom-energy .aplus {
				border-bottom: 4px solid #336601;
			}
			.custom-energy .aplus-sel, .custom-energy .a4-sel, .custom-energy .a4:hover, .custom-energy .aplus:hover {
				border-bottom: 4px solid #336601!important;
				background-color: rgba(54, 102, 1, .5);
			}
			.custom-energy .a3 {
				border-bottom: 4px solid #006600;
			}
			.custom-energy .a3-sel, .custom-energy .a3:hover {
				border-bottom: 4px solid #006600!important;
				background-color: rgba(0, 102, 0, .5);
			}
			.custom-energy .a2 {
				border-bottom: 4px solid #009900;
			}
			.custom-energy .a2-sel, .custom-energy .a2:hover {
				border-bottom: 4px solid #009900!important;
				background-color: rgba(0, 153, 0, .5);
			}
			.custom-energy .a1 {
				border-bottom: 4px solid #01cc00;
			}
			.custom-energy .a1-sel, .custom-energy .a1:hover {
				border-bottom: 4px solid #01cc00!important;
				background-color: rgba(1, 204, 0, .5);
			}
			.custom-energy .a {
				border-bottom: 4px solid #336601;
			}
			.custom-energy .a-sel, .custom-energy .a:hover {
				border-bottom: 4px solid #336601!important;
				background-color: rgba(51, 102, 1, .5);
			}
			.custom-energy .b {
				border-bottom: 4px solid #98cb00;
			}
			.custom-energy .b-sel, .custom-energy .b:hover {
				border-bottom: 4px solid #98cb00!important;
				background-color: rgba(152, 203, 0, .5);
			}
			.custom-energy .c {
				border-bottom: 4px solid #ffff00;
			}
			.custom-energy .c-sel, .custom-energy .c:hover {
				border-bottom: 4px solid #ffff00!important;
				background-color: rgba(255, 255, 0, .5);
			}
			.custom-energy .d {
				border-bottom: 4px solid #ffc000;
			}
			.custom-energy .d-sel, .custom-energy .d:hover {
				border-bottom: 4px solid #ffc000!important;
				background-color: rgba(255, 192, 0, .5);
			}
			.custom-energy .e {
				border-bottom: 4px solid #e46c0b;
			}
			.custom-energy .e-sel, .custom-energy .e:hover {
				border-bottom: 4px solid #e46c0b!important;
				background-color: rgba(228, 108, 11, .5);
			}
			.custom-energy .f {
				border-bottom: 4px solid #c0504e;
			}
			.custom-energy .f-sel, .custom-energy .f:hover {
				border-bottom: 4px solid #c0504e!important;
				background-color: rgba(192, 80, 78, .5);
			}
			.custom-energy .g {
				border-bottom: 4px solid #fe0000;
			}
			.custom-energy .g-sel, .custom-energy .g:hover {
				border-bottom: 4px solid #fe0000!important;
				background-color: rgba(254, 0, 0, .5);
			}

			@media screen and (max-width: 560px) {
				.resize-mobile .floating {
					border-left: 1px solid #d8d8df!important;
					margin-right: 8px!important;
					margin-bottom: 8px!important;
					border-radius: 2px!important;
				}
			}
		</style>
  </head>
  <body>
		<noscript>You need to enable JavaScript to run this app.</noscript>
    <header>
      This is the demo page of client-form
    </header>
		<main id="client-form"></main>
    <footer></footer>
    <script type="text/javascript" src="clientForm.js"></script>
    <script>
      const render = ReactDOM.render;
      const createElement = React.createElement;
      const el = createElement;
      const Fragment = React.Fragment;
      const { createRef } = React;
      this.myForm = createRef();

      render(el(clientForm.default, {
  				ref: this.myForm,
  				controls: [
  					{
  						control: 'label',
  						content: 'Form demo page',
  						style: { lineHeight: '40px', clear: 'both', margin: '0 auto', fontSize: 16, marginBottom: 20 },
  						className: 'noselect tabTextArea'
  					},
  					{
  						control: 'text',
  						type: 'hidden',
  						name: 'categoryTypeId',
  						value: 1,
  					},
  					{
  						control: 'radio',
  						name: 'genericRadio',
  						label: { text: 'This is an almost real radio' },
  						options: [
  							{ value: undefined, label: 'Maybe', style: { width: '100%', float: 'left' }, selectedClassName: 'selected-class' },
  							{ value: true, label: 'Yes', style: { width: '100%', float: 'left' }, selectedClassName: 'selected-class' },
  							{ value: false, label: 'No', style: { width: '100%', float: 'left' }, selectedClassName: 'selected-class' },
  						],
  						default: undefined,
  						hideRadio: false,
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'priceMax',
  						onlyNumber: true,
  						placeholder: '',
  						label: {
  							text: 'Price',
  							changeIf: [
  								{
  									field: 'genericRadio',
  									regEx: /^true$/,
  									ifTrue: 'Weekly price',
  									ifFalse: 'Price'
  								}
  							]
  						},
  						value: '',
  						currency: true,
  						isRequired: true,
  						errorMessage: 'Mandatory field',
  						unit: '€',
  						autoComplete: 'new-password'
  					},
  					{
  						control: 'listbox',
  						name: 'yourFuckingFashionListbox',
  						label: { text: 'A Fashion Listbox With desc' },
  						options: [
  							{ value: ' ', label: 'Select something...', className: 'first' },
  							{ value: 1, label: 'First option', className: 'central', addLabel: `I describe you what you're selecting 'cause you're too stupid to understand just the label` },
  							{ value: 2, label: 'Second option', className: 'central', addLabel: 'This is a very long description that mean nothing but I need it to test the possible length of the description of the option of this beautiful fancy listbox that make your eyes shine' },
  							{ value: 3, label: 'Third option', className: 'central' },
  							{ value: 4, label: 'Fourth option', className: 'central' },
  							{ value: 5, label: 'Fifth option', className: 'central' },
  							{ value: 6, label: 'Sixth option', className: 'central' },
  							{ value: 7, label: 'Seventh option', className: 'central' },
  						],
  						default: ' ',
  						value:	' ',
  						minEl: 7,
  						isRequired: true,
  						errorMessage: 'Mandatory field',
  					},
  					{
  						control: 'select',
  						name: 'aNormalSelect',
  						//label: { text: 'normal select' },
  						options: [
  							{ value: ' ', label: 'Select something...', className: 'first' },
  							{ value: 1, label: 'First option', className: 'central' },
  							{ value: 2, label: 'Second option', className: 'central' },
  							{ value: 3, label: 'Third option', className: 'central' },
  							{ value: 4, label: 'Fourth option', className: 'central' },
  							{ value: 5, label: 'Fifth option', className: 'central' },
  							{ value: 6, label: 'Sixth option', className: 'central' },
  							{ value: 7, label: 'Seventh option', className: 'central' },
  						],
  						default: ' ',
  						value:	' ',
  					},
  					{
  						control: 'label',
  						content: 'This is a text only label',
  						style: { lineHeight: '40px', clear: 'both', margin: '0 auto', fontSize: 16, marginBottom: 20 },
  						className: 'noselect tabTextArea'
  					},
  					{
  						control: 'check',
  						name: 'fakeCheckBoxWithCustomSvg',
  						value: false,
  						customSvg: {
  							svgProps: { width: 36, height: 24, viewBox: '0 0 36 24' },
  							forTrue: el(Fragment, {},
  								el('rect', {
  									width: 30, height: 16, rx: 8, ry: 8, x: 4, y: 4,
  									style: { fill: 'rgb(0, 132, 255)', strokeWidth: 2, stroke: 'rgb(0, 132, 255)' }
  								}),
  								el('circle', { cx: 26, cy: 12, r: 7, style: { fill: 'rgb(255, 255, 255)' } })
  							),
  							forFalse: el(Fragment, {},
  								el('rect', {
  									width: 30, height: 16, rx: 8, ry: 8, x: 4, y: 4,
  									style: { fill: 'rgb(216, 216, 223)', strokeWidth: 2, stroke: 'rgb(216, 216, 223)' } }),
  								el('circle', { cx: 12, cy: 12, r: 7, style: { fill: 'rgb(255, 255, 255)' } })
  							)
  						}
  					},
  					{
  						control: 'text',
  						label: {
  							text: 'Name',
  							className: 'label-class'
  						},
  						placeholder: 'Name',
  						type: 'text',
  						name: 'firstName',
  						limitChar: 25,
  						autoComplete: 'new-password'
  					},
  					{
  						control: 'listbox',
  						name: 'yourFuckingFashionListboxWhitoutDesc',
  						label: { text: 'A Fashion Listbox Whitout Desc' },
  						options: [
  							{ value: 0, label: 'Select something...' },
  							{ value: 1, label: 'First option', className: 'central' },
  							{ value: 2, label: 'Second option', className: 'central' },
  							{ value: 3, label: 'Third option', className: 'central' },
  						],
  						default: 0
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'lastName',
  						limitChar: 25,
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'age',
  						onlyNumber: true,
  						limitChar: 3,
  						value: 4
  					},
  					/*{
  						control: 'fakeselect',
  						name: 'priceRange',
  						text: 'Select something...',
  						label: {
  							text: 'Fake select min/max'
  						},
  						style: { maxHeight: 76 },
  						rangesStyle: { width: 190, maxWidth: 190 },
  						value: { min: '', max: '' },
  						firstRange: priceRanges,
  						secondRange: priceRanges,
  						overlayBg: '#fff'
  					},*/
  					{
  						control: 'text',
  						type: 'text',
  						name: 'prpMail',
  						placeholder: '',
  						label: {
  							text: 'Indirizzo Email',
  						},
  						regEx: /(^$|^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$)/i,
  						errorMessage: 'Enter a valid e-mail address please',
  						limitChar: 60,
  					},
  					{
  						control: 'plusMinus',
  						type: 'text',
  						name: 'roomNum',
  						label: { text: 'Room number' },
  						value: 0
  					},
  					{
  						control: 'check',
  						name: 'thisIsACheckBox',
  						label: { text: 'This is an almost real checkbox' },
  						value: false,
  					},
  					{
  						control: 'text',
  						type: 'password',
  						name: 'password',
  						onlyNumber: false,
  						limitChar: 12,
  					},
  					{
  						control: 'text',
  						type: 'password',
  						name: 'repeatPassword',
  						onlyNumber: false,
  						limitChar: 12,
  						equalTo: 'password',
  						errorMessage: 'Password must be equal',
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'anotherText',
  						onlyNumber: false,
  						placeholder: 'Another text input',
  						label: { text: 'Another text input with limitChar 25' },
  						value: '',
  						limitChar: 25,
  					},
  					{
  						control: 'label',
  						name: 'label-2',
  						content: el('div', { style: { color: '#fff', background: 'rgb(50, 63, 72)', paddingLeft: 8 } }, 'This is an element based label'),
  						style: { lineHeight: '40px', clear: 'both', fontSize: 16, margin: '0 auto', marginBottom: 20 },
  						className: 'noselect tabTextArea'
  					},
  					{
  						control: 'textArea',
  						name: 'thisIsATextArea',
  						value: '',
  						limitChar: 1000,
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'aMinimalTextField',
  					},
  					{
  						control: 'label',
  						name: 'label-3',
  						style: { clear: 'both', width: '100%' }
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'currencyField',
  						placeholder: '',
  						currency: true,
  						onlyNumber: true,
  						unit: '€'
  					},
  					{
  						control: 'text',
  						type: 'text',
  						name: 'squareMeterField',
  						placeholder: '',
  						onlyNumber: true,
  						unit: 'm²'
  					},
  					{
  						control: 'tabTextArea',
  						name: 'aMultipleDescriptionFieldThatStripHTMLCauseWeDontLikeHTMLInTextArea',
  						label: {
  							style: {
  								display: 'none'
  							}
  						},
  						value: [
  							{ name: 'listingDescIt', value: '', isRequired: true, isValid: true, label: 'Spaghetti', abbr: 'IT', placeholder: 'Italian description' },
  							{ name: 'listingDescEn', value: '', isRequired: false, isValid: true, label: 'Fish & Chips', abbr: 'EN', placeholder: 'English description' },
  							{ name: 'listingDescFr', value: '', isRequired: false, isValid: true, label: 'Baguettes', abbr: 'FR', placeholder: 'French description' },
  							{ name: 'listingDescEs', value: '', isRequired: false, isValid: true, label: 'Tapas', abbr: 'ES', placeholder: 'Spanish description' },
  							{ name: 'listingDescDe', value: '', isRequired: false, isValid: true, label: 'Würstel', abbr: 'DE', placeholder: 'German description' }
  						],
  						isValid: true,
  						className: 'tabTextArea',
  						valueAsObject: true,
  						limitChar: 4000,
  						errorMessage: 'Italian description is mandatory'
  					},
  					{
  						control: 'radio',
  						name: 'thisIsAFakeRadio',
  						options: [
  							{ value: undefined, label: '--', className: 'first' },
  							{ value: true, label: 'Yes', className: 'central' },
  							{ value: false, label: 'No', className: 'last' },
  						],
  						default: undefined,
  						value: undefined,
  						hideRadio: true,
  						className: 'custom-radio-container',
  					},
  					{
  						control: 'label',
  						name: '',
  						content: 'The below component appear and change its value depending on the above selection',
  						style: { clear: 'both', padding: '20px 0px 30px', margin: '0 auto', },
  						className: 'tabTextArea'
  					},
  					{
  						control: 'check',
  						name: 'hasPurchaseOption',
  						//label: { text: 'This appear if the previuos selection is Rent' },
  						value: false,
  						hideIf: [
  							{ field: 'contractTypeId', regEx: /^1$/ }
  						],
  					},
  					{
  						control: 'check',
  						name: 'isAuction',
  						//label: { text: `Asta` },
  						value: false,
  						hideIf: [
  							{ field: 'contractTypeId', regEx: /^2$/ }
  						]
  					},
  				],
  				beforeButton: el('div', {
  					style: { clear: 'both', fontSize: 11, lineHeight: '30px', textAlign: 'center' }
  				}, 'This is a text before button'),
  				sendButton: {
  					text: 'Save changes',
  					style: { margin: '0 auto', float: 'none' },
  				},
  				afterButton: el('div', {
  					style: { clear: 'both', fontSize: 11, lineHeight: '30px', textAlign: 'center' }
  				}, '(Look in the console for the output object)'),
  				buttonContainerStyle: { textAlign: 'center' },
  				sendForm: (e) => {
  					console.log('sendForm', e);
  					var promise = new Promise((resolve, reject) => {
  			      window.setTimeout(() => {
  			        resolve({ succeed: true, message: 'Saved!' });
  			      }, 2000);
  			    });
  			    return promise;
  				},
  				key: Math.random(),
  				formStyle: {
  					maxWidth: 540,
  					margin: '0 auto'
  				},
  			}
  		), document.getElementById("client-form"));
    </script>
  </body>
</html>
